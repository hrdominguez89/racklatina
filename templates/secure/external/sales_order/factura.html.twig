{% extends 'base.html.twig' %}

{% block title %}
    Factura {{ numero }}
{% endblock %}

{% block body %}
    <div class="container-fluid mt-4">
        <h4>Factura: {{ numero }}</h4>
        <hr>

        {% if facturas is empty %}
            <div class="alert alert-warning" role="alert">
                No se encontraron registros para la factura <strong>{{ numero }}</strong>.
            </div>
        {% else %}
            <table class="table table-striped table-sm">
                <thead class="table-dark">
                    <tr>
                        <th>Fecha</th>
                        <th>Estado</th>
                        <th>Comprobante</th>
                        <th>Nombre Comprobante</th>
                        <th>Artículo</th>
                        <th>Descripción</th>
                        <th>Cliente</th>
                        <th>Razón Social</th>
                        <th>Moneda</th>
                        <th>Cotización</th>
                        <th>Cantidad</th>
                        <th>Precio</th>
                        <th>Importe Neto</th>
                    </tr>
                </thead>
                <tbody>
                    {% for f in facturas %}
                        <tr>
                            <td>{{ f.fecha ? f.fecha|date('d/m/Y') : '' }}</td>
                            <td>{{ f.estado }}</td>
                            <td>{{ f.comprobante }}</td>
                            <td>{{ f.nombreComprobante }}</td>
                            <td>{{ f.articulo }}</td>
                            <td>{{ f.nombreArticulo }}</td>
                            <td>{{ f.codigoCliente }}</td>
                            <td>{{ f.razonSocial }}</td>
                            <td>{{ f.moneda }}</td>
                            <td>{{ f.cotizacion }}</td>
                            <td>{{ f.cantidad }}</td>
                            <td>{{ f.precio|number_format(2, ',', '.') }}</td>
                            <td>{{ f.importeneto|number_format(2, ',', '.') }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% endif %}

        <div class="text-end mt-3">
            <a href="{{ path('app_secure_external_sales_order_sales_order') }}" class="btn btn-secondary">Volver</a>
        </div>
    </div>
{% endblock %}
